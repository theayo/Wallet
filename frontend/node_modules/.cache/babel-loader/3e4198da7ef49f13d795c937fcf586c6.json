{"ast":null,"code":"import _classCallCheck from \"/home/francua/Wallet/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/francua/Wallet/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport axios from \"axios\";\n\nvar APIService = /*#__PURE__*/function () {\n  function APIService() {\n    _classCallCheck(this, APIService);\n  }\n\n  _createClass(APIService, null, [{\n    key: \"UpdateArticle\",\n    value: function UpdateArticle(article_id, body, token) {\n      return fetch(\"http://127.0.0.1:8000/api/articles/\".concat(article_id, \"/\"), {\n        'method': 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': \"Token \".concat(token)\n        },\n        body: JSON.stringify(body)\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"InsertArticle\",\n    value: function InsertArticle(body, token) {\n      return fetch('http://127.0.0.1:8000/api/articles/', {\n        'method': 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': \"Token \".concat(token)\n        },\n        body: JSON.stringify(body)\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"DeleteArticle\",\n    value: function DeleteArticle(article_id, token) {\n      return fetch(\"http://127.0.0.1:8000/api/articles/\".concat(article_id, \"/\"), {\n        'method': 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': \"Token \".concat(token)\n        }\n      });\n    }\n  }, {\n    key: \"LoginUser\",\n    value: function LoginUser(body) {\n      console.log(body);\n      return fetch('http://127.0.0.1:8000/auth/token/login/', {\n        'method': 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      }).then(function (resp) {\n        var token = resp.json().data.auth_token;\n        var expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem('token', token);\n        localStorage.setItem('expirationDate', expirationDate);\n      });\n    }\n  }, {\n    key: \"RegisterUser\",\n    value: function RegisterUser(body) {\n      console.log(body);\n      return fetch('http://127.0.0.1:8000/auth/users/', {\n        'method': 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }, {\n    key: \"GetLoginUser\",\n    value: function GetLoginUser(body) {\n      console.log(body);\n      return fetch('http://127.0.0.1:8000/auth/token/login/', {\n        'method': 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      }).then(function (resp) {\n        return resp.json();\n      });\n    }\n  }]);\n\n  return APIService;\n}();\n\nAPIService.authLogin = function (username, password) {\n  return function (dispatch) {\n    dispatch();\n    axios.post('http://127.0.0.1:8000/auth/token/login/', {\n      username: username,\n      password: password\n    }).then(function (res) {\n      var token = res.data.auth_token;\n      localStorage.setItem('token', token);\n    });\n  };\n};\n\nexport { APIService as default };","map":{"version":3,"names":["axios","APIService","article_id","body","token","fetch","headers","JSON","stringify","then","resp","json","console","log","data","auth_token","expirationDate","Date","getTime","localStorage","setItem","authLogin","username","password","dispatch","post","res"],"sources":["/home/francua/Wallet/frontend/src/Component/APIService.js"],"sourcesContent":["\nimport axios from \"axios\";\n\nexport default class APIService {\n\n  static UpdateArticle(article_id, body, token) {\n\n    return fetch(`http://127.0.0.1:8000/api/articles/${article_id}/`, {\n      'method': 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token}`\n      },\n      body: JSON.stringify(body)\n\n    }).then(resp => resp.json())\n\n\n  }\n\n  static InsertArticle(body, token) {\n\n    return fetch('http://127.0.0.1:8000/api/articles/', {\n      'method': 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token}`\n      },\n      body: JSON.stringify(body)\n\n    }).then(resp => resp.json())\n\n  }\n\n  static DeleteArticle(article_id, token) {\n\n    return fetch(`http://127.0.0.1:8000/api/articles/${article_id}/`, {\n      'method': 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token}`\n      }\n\n    })\n\n  }\n\n  static LoginUser(body) {\n    console.log(body)\n    return fetch('http://127.0.0.1:8000/auth/token/login/', {\n      'method': 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n\n      },\n      body: JSON.stringify(body)\n\n    }).then(resp => {\n      const token = resp.json().data.auth_token;\n      const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n\n      localStorage.setItem('token', token);\n      localStorage.setItem('expirationDate', expirationDate);\n    })\n\n  }\n\n\n  static RegisterUser(body) {\n    console.log(body)\n    return fetch('http://127.0.0.1:8000/auth/users/', {\n      'method': 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n\n      },\n      body: JSON.stringify(body)\n\n    }).then(resp => resp.json())\n\n  }\n\n  static GetLoginUser(body) {\n    console.log(body)\n    return fetch('http://127.0.0.1:8000/auth/token/login/', {\n      'method': 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n\n      },\n      body: JSON.stringify(body)\n\n    }).then(resp => resp.json())\n\n  }\n\n  static authLogin = (username, password) => {\n    return dispatch => {\n        dispatch();\n    \n        axios.post('http://127.0.0.1:8000/auth/token/login/', {\n            username: username,\n            password: password\n        })\n        .then(res => {\n            const token = res.data.auth_token;\n\n            localStorage.setItem('token', token);\n        })\n    }\n}\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}